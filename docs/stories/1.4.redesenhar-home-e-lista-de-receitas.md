# Story 1.4: Redesenhar Home/Lista de Receitas

## Status
Approved

## Story
**Como** usuário do Cookzy,
**eu quero** uma Home/Lista com carrossel de recentes e alternância lista/grade com busca inline,
**para** descobrir rapidamente receitas e navegar com fluidez.

## Acceptance Criteria
1. Carrossel “Recentes” no topo: 1 card por viewport, com PEEK do próximo, snapping por cartão, sem indicador de página; tap abre Detalhe.
2. Cabeçalho da lista exibe “N receitas” e botões para alternar layout lista ↔ grade; preferência persiste localmente.
3. Busca inline na App Bar: ao ativar, campo substitui o título e filtra resultados localmente com debounce de 400 ms; limpar retorna ao título.
4. Estados: skeleton para carregamento; mensagem de erro com ação “Tentar de novo”; se Recentes vazio, exibir placeholder “Sem recentes” + CTA “Criar/Importar receita”.
5. Fora do escopo do Épico 01: carrossel de “Livros de Receitas” (filtro) — não deve aparecer no MVP deste épico.

## Dependencies
- 1.7 — DS: Componentes para RecipeList (Épico 01) — `docs/stories/1.7.ds-componentes-recipelist.md`.
  - Fornece AppTopBar com busca inline, RecentCarousel, RecipeCard, LayoutToggle, RecipeCountLabel e Empty/Erro para integração nesta story.

## Tasks / Subtasks
- [ ] UI — Carrossel “Recentes” com `HorizontalPager` (pageSize=Fill; contentPadding para PEEK; snap) (AC: 1, 4)
- [ ] UI — Cabeçalho com contagem e alternância lista/grade (AC: 2)
- [ ] UI — Lista/Grade com cards consistentes; navegação para Detalhe (AC: 2)
- [ ] App Bar — Modo busca inline com debounce e limpar (AC: 3)
- [ ] Estados — Skeletons/erro/empty coerentes (AC: 4)
- [ ] A11y — Roles, labels e foco (AC: 1–4)
- [ ] Persistência — Preferência lista↔grade via DataStore (ViewModel + UI) (AC: 2)
- [ ] Testes — Compose UI para alternância, busca inline, navegação e estados (AC: 1–4)
- [ ] Testes — Assegurar ausência do carrossel de “Livros de Receitas” no Épico 01 (AC: 5)

## Dev Notes
- Arquitetura/UI: docs/ui-architecture.md (App Bar, padrões de lista/grade, prévias sugeridas).
- Dados para “Recentes”: ordenar por data de atualização/criação local; limitar a ~10 itens.
- Persistir preferência lista↔grade via DataStore.
- Não incluir carrossel de “Livros de Receitas” neste épico (Epic de Coleções tratará).

### Testing
- Compose UI: verificação de snapping 1 por viewport (com PEEK), alternância lista↔grade, debounce de busca (400 ms), placeholders de loading/erro, navegação para Detalhe.
- ViewModel: filtro local preservando contagem e alternância.
- Negativo: garantir que o carrossel de “Livros de Receitas” não é exibido no Épico 01.

## Change Log
| Date       | Version | Description                       | Author |
|------------|---------|-----------------------------------|--------|
| 2025-10-23 | 0.1     | Rascunho inicial (redesign Home)  | PM     |
| 2025-10-23 | 0.2     | ACs clarificados; pronto p/ Dev   | SM     |
| 2025-10-28 | 0.3     | Adicionada dependência da story 1.7 | Dev    |

## Dev Agent Record

### Agent Model Used

### Debug Log References

### Completion Notes List

### File List

## QA Results
